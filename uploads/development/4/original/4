#define __LIBRARY__  
#include <string.h> 
#include <errno.h>
#include <linux/head.h>
#include <linux/sched.h>
#include <linux/kernel.h>
#include <asm/system.h>
#include <asm/segment.h>
#include <asm/io.h>

char str[24];

int sys_iam(const char * name)
{
	int i=0;
	int j=0;
	char tmp[32]={0};
	while(get_fs_byte(name+i)!='\0')
	{
		tmp[i] = get_fs_byte(name+i);
		i++;
		if(i>30)
			break;
	}
	if(i>23)
	{
		errno = EINVAL;
		return -errno;
	}
	for(j=0;j<i+1;j++)
		str[j] = tmp[j];

	return i;
}

int sys_whoami(char* name, unsigned int size)
{
	int i;
	unsigned int c=0;
	while(str[c]!='\0')
		c++;
	if(c > size)
	{
		errno = EINVAL;
		return -errno;
	}
	for(i=0;i<c;i++)
		put_fs_byte(str[i],name+i);  
	return i;
}