<html>
<head>
  <%= javascript_include_tag "compatibility" %>
  <%= javascript_include_tag "l10n" %>
  <%= javascript_include_tag "pdf" %>
  <%= javascript_include_tag "pdfviewer" %>
  <%= stylesheet_link_tag "viewer", :media => "all" %>
</head>
<body bgcolor="white">
<% case @type[0] %>
<% when "text" then %>
  <%= raw(coderay @file) %>

<% when "image" then %>
  <%= image_tag file_path(@file), :class => 'image_size' %>

<% when "application" then %>
  <% case @type[1] %>
  <% when "pdf" then %>
    <p>We are still working on the support of <%= @file.extension %> now :-)</p>
    <%= content_tag(:embed, "", src: file_path(@file), type: "application/pdf") %>
  <% else %>
    <%= raw(coderay @file) %>
  <% end %>

<% else %>
  <p>We are still working on the support of <%= @file.extension %> now :-)</p>
<% end %>
</body>

</html>
